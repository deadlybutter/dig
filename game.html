<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Hello World!</title>
  </head>
  <body>
    <canvas width="1280" height="720" id="game"></canvas>

    <script src="engine/util.js"></script>
    <script src="engine/entities.js"></script>
    <script src="engine/world.js"></script>
    <script src="engine/renderer.js"></script>

    <script>
      const world = new World();
      const pipeline = new RenderPipeline(world, 1280, 720);
      pipeline.render();

      // <test>
      class TestPlayer extends PhysicsEntity {
        constructor() {
          super(new Vector2(0, 0), 10, 1);
        }

        update(world) {
          this.addForce(new Vector2(.01, .01));
        }

        render(pipeline) {
          const ctx = pipeline.ctx;
          const grid = pipeline.grid;
          ctx.fillRect(grid.tx(this.location.x), grid.ty(this.location.y), grid.tx(10), grid.sy(10));
        }
      }
      world.entities.physics.push(new TestPlayer());
      // </test>

    </script>
  </body>
</html>
